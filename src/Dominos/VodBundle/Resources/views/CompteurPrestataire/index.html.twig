{% extends '::base.html.twig' %}

{% block body -%}
    <div class="white_title long">
        <h4 class="center">Ventiller les dates pour le prestataire {{prestataire.nompresta}} du {{prestataire.startpresta|date('d/m/Y')}} au {{prestataire.endpresta|date('d/m/Y')}}</h4>
    </div>
    <div class="white_title short">
        <h4 class="center">Nombre de codes disponibles : {{prestataire.getNbreCodesDispo}}</h4>
    </div>
    {% for flashMessage in app.session.flashbag.get('error') %}
        <div class="alert alert-danger" >
            {{ flashMessage }}
        </div>
    {% endfor %}
    <br>  
        {% for entity in entities %}
         
         <div class="white inlineform ">
     
            <b>{{entity.datepresta}}</b><br>{{ render(controller('DominosVodBundle:CompteurPrestataire:editForm', { 'compteur': entity })) }}
             
        </div>  
               
        {% endfor %}
      <br>
    <div class="white_title">
        <h4 class="center">Ajouter une nouvelle date </h4>
     </div>
    <div class="white inlineform">
        {{form_start(formAdd,{'attr':{'class':'form-horizontal'}})}}
            <span class="space"><label >Date : </label> {{form_widget(formAdd.datepresta)}}</span>
            <span class="space"><label >Nombre de code : </label> {{form_widget(formAdd.nbrecodeday)}}</span>
            <span>{{form_widget(formAdd.submit)}}</span>
        {{form_end(formAdd)}}  
    </div> 
    <div class="white formbloc center">
     <a href="{{ path('prestataire') }}" class="btn btn-info">  Accueil </a>     
    </div>
    {% endblock %}
